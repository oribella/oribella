<template>
  <ul class="lui-list groups"
    oa-sortable="items.bind: groups; allowed-drag-selector.bind: '.lui-icon--handle'; axis.bind: 'y'">
    <li repeat.for="group of groups"
      oa-sortable-item="item.bind: group; type-flag.bind: group.typeFlag; locked-flag.bind: group.lockedFlag"
      oa-sortable-item.ref="sortableGroupItem"
      draggable="false">
      <span class="lui-list__aside">
        <span class="lui-list__header ${(sortableGroupItem.childSortable.isDisabled || sortableGroupItem.lockedFrom) ? 'lui-disabled' : ''} ${sortableGroupItem.lockedFrom ? 'locked' : ''}">
          <span class="lui-list__aside  lui-icon lui-icon--small lui-icon--handle"></span>
          <span class="lui-list__text">${group.name}</span>
            <span class="lui-list__aside  lui-icon lui-icon--small lui-icon--${sortableGroupItem.lockedFrom ? 'lock' : 'unlock'}" title="From"></span>
        </span>
        <ul class="lui-list group"
          oa-sortable.ref="sortable"
          oa-sortable="items.bind: group.items; type-flag.bind: group.typeFlag; allowed-drag-selector.bind: '.lui-icon--handle'; axis.bind: 'y'">
          <li class="lui-list__item ${(sortable.isDisabled || sortableItem.lockedFrom) ? 'lui-disabled' : ''} ${sortableItem.lockedFrom ? 'locked' : ''}"
            repeat.for="item of group.items"
            oa-sortable-item="item.bind: item; type-flag.bind: item.typeFlag; locked-flag.bind: item.lockedFlag"
            oa-sortable-item.ref="sortableItem"
            draggable="false">
            <span class="lui-list__aside  lui-icon lui-icon--small lui-icon--handle"></span>
            <span class="lui-list__text">${item.name}</span>
            <span class="lui-list__aside">
              <span class="lui-list__aside  lui-icon lui-icon--small lui-icon--${sortableItem.lockedFrom ? 'lock' : 'unlock'}" title="From"></span>
            </span>
          </li>
        </ul>
      </span>
    </li>
  </ul>
</template>
